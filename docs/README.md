# ✦ 구현할 기능 목록 (절차) ✦

+ [x] 사용자 입력값을 받는 기능
    - 금액, 6자리 당첨 번호, 보너스 번호


+ [x] 입력값의 유효성을 검증하는 기능


+ [x] 구매한 로또의 개수를 판단하는 기능


+ [x] 구매 개수만큼 로또 세트를 생성하는 기능


+ [x] 구매한 로또의 수, 로또 세트를 출력하는 기능
    - 번호는 오름차순으로 정렬


+ [x] 당첨 여부를 판단하는 기능


+ [x] 수익률을 계산하는 기능
    - 소수점 둘째 자리에서 반올림


+ [x] 게임의 결과(당첨 여부,수익률)를 출력하는 기능


+ [ ] ❗️에러 처리 ❗️

    - ========= 금액 관련 에러 =================
    - 숫자가 아닌 경우 ✔️
    - 금액이 1000원으로 나누어떨어지지 않는 경우 ✔️
    - 금액이 1000원 미만인 경우 ✔️
    - ======== 당첨, 보너스 번호 관련 에러 ================
    - 공백이 있는 경우 ✔️
    - 번호가 쉼표로 구분되지 않는 경우(=쉼표가 5개가 없는 경우)
    - 1~45 사이의 숫자가 아닌 경우 ✔️
    - 숫자가 아닌 경우 ✔️
    - 6자리의 번호가 아닌 경우 ✔️
    - 중복된 번호가 있는 경우 ✔️
    - 보너스 번호가 당첨 번호와 중복 될 경우

# ✦ 기능 설계 ✦

## [ domain ]

### 1. LottoSeller

- 구입한 수량만큼 로또 번호 세트 생성
- lottoGenerator를 멤버 변수로 받아옴
- 로또를 구매하는 `buyMany()`, `buy()`

### 2. Lotto

- 사용자 입력값을 받아 Lotto 객체를 만든다
- 사용자가 구매한 로또 1 장 (오름차순 sort)
- `hasBonusNumber(), countMatchingNumbers()` : 당첨,보너스 번호를 받아서 여기서 lotto와 비교 : 로또 내부 데이터를 여기서 스스로 처리로 캡슐화! 데이터 응집도를 높임!
  LottoMachine과 결합도 낮춤)
- LottoDto 생성

### 3. Lottos

- Lotto의 일급 컬렉션
- 사용자가 구매한 모든 lotto들을 들고 있다
- 반복문을 돌며 로또들을 연결해줌
- LottosDto 생성

### 4. Money

- 사용자가 입력한 금액을 객체로 저장
- `add(), subtract()` Money 객체의 잔액에서 돈 추가, 차감 기능

### 5. LottoMachine

- 로또를 추첨해주는 기계
- `draw(), drawAll()`: 당첨 번호, 보너스 번호를 받아서 추첨 돌리기
- `calculateEarningRate()` : 수익률을 구하는 함수 분리
- DrawResultDto 생성: 당첨 결과를 담은 객체(dto)로 반환

### 6. RandomNumberGenerator

- 로또를 바로 생성하지 않고 일단 6자리 랜덤 숫자를 뽑아 준다
- 번호들을 LottoGenerator에게 전달한다

### 7. LottoGenerator

- RandomNumberGenerator에서 랜덤 숫자를 받아 로또를 생성한다

## [ DTO ]

### 1. Lotto

### 2. Lottos

### 3. DrawResultDto

## [ view ]

### 1. InputView

- 사용자 입력 시 보여지는 화면 구현

### 2. OutputView

- 데이터를 받아 랜더링 해서 출력
- 출력 시 보여지는 화면 구현

### 3. InputValidator

- 사용자 인풋의 유효성 검증

### 4. InputConverter

- 사용자 인풋을 배열로 변환

## [ controller ]

### LottoController

- 로또 게임 전체의 흐름 제어

# ✦ 자주 실수하는 부분 ✦

- 타입은 항상 클래스 명 -> 대문자 시작


- 변수는 항상 인스턴스명 -> 소문자 시작


- 생성자는 리턴이 없음


- 인자 순서는 항상 조심하자


- Lottos안에는 반드시 Lotto가 들어가야 한다! 그냥 `number[]`이 아님


- `async`는 전파되므로 호출하는 함수 내에 하나라도 `async`를 포함하고 있다면 호출자 역시 `async`가 된다.
  미션에서는 계속해서 `Console.readLineAsync`가 `async`이므로 입력이 포함되는 함수는 모두 `async`가 된다. `async`를 호출할 때 자꾸 `await`를 빼먹는 부분을 조심하자.
  `await`를 빼먹으면 빈 `promise`를 즉시 반환하고 아래 함수를 호출해버려서 예상대로 실행되지 않는다!

# ✦ 습관을 들여야 하는 부분 ✦

1. 클래스 역할이 무엇인지 생각 먼저


2. 항상 js doc으로 '타입' 써놓고 시작


3. 인자 반환 및 반환 타입 잘 확인하기


4. 인자 + 복수형 헷갈리지 않게 변수명 잘 구분하기


5. 최대한 모든 함수 및 변수 및 클래스 @description으로 설정하기 - 마우스 올리면 보이게 까먹어도 리마인드에 좋게


6. 공부나 복습이 필요하다고 생각하는 것 바로바로 써놓고 나중에라도 정리하기