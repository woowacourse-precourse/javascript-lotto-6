# 미션 - 로또게임

📍 : `리드미 볼때마다 확인`

## 미션중 해결할 고민

- UI와 비지니스를 분리해야한다. 그렇다면 어디까지가 비지니스인가 ?
  - (비지니스가 아니다 !)모델 입장에선 수익률만 계산하는게 책임이 아닐까? 소수점을 표현하는것은 View가 어떻게 그릴지에 해당되는것 아닐까?
  - (비지니스다 !)소수점 1자리까지만 표현하는것도 비지니스 아닐까? 그렇다면 model이 갖고있어야하는데..
  - 로또의 sort도 똑같다 오름차순이란 결국 요구사항이니 비지니스 아닐까? 추후에 바뀔수도 있다

## 🚨🚨🚨 필히 지키기 !

### [1주차 피드백](https://docs.google.com/document/d/1DWiROxxsQpE2p5BtnM0JJZ55RyzNmeZLDsEtdChyHbw/edit)

- 함수를 분리하고, 각 함수별로 테스트를 작성

### [2주차 피드백](https://docs.google.com/document/d/1mbmVtUvdD54qPcgeDtoFYOO_Y2_CZDkBZ5uSqPimZ-o/edit)

- 클래스(객체)를 분리하는 연습
- 도메인 로직에 대한 단위 테스트를 작성하는 연습

### 하루에 한번씩 읽기

```
고민이 생긴다면 큰 프로그램이라고 생각
테스트 가능한가
한가지 기능
일관성
도메인에 종속되어야할것과 종속되지 말아야할것을 확인하자
(랜덤숫자생성기는 과연 도메인에 종속되어있어야 하는가 ?)
```

- **살아있는 문서** README 자주보기
- 📍**한가지 기능**만 하고 있는지 확인하라📍
  - 한번이라도 반복되면 분리해보자 무언가 보일것이다.
- 📍길어도 좋다, 변수가 많아도 좋다, 코드에 의도를 드러내라, parameter로도 의도를 드러내라📍
- 기능단위의 커밋 + 내가 봤을때도 보기 싫으면 다시 생각해보자
- 📍하드코딩하지 않는다.📍
  - 나중에 한꺼번에 분리하지말고 하나씩 추가하자
- 고차함수라 할지라도 반복되고 의도를 더할 수 있다면 분리하라.
- 테스트코드로 피드백을 받아라
- **일관성,일관성,일관성,일관성이 중요하다. 이랬다 저랬다 하지말자**
- **요구사항을 만족**하기 위해 노력하기
- **요구사항과 구현이 먼저다 !**
- **PR도 날리고 우테코 페이지에서도 제출하기**
  - 같은 실수 반복하지말기
- 기능구현을 했더라도 요구 사항에 명시된 출력값 안지키면 0점
  - **명시된 출력 형식** 지키기
- **정돈** : 어디있는지 잠깐이라도 멈칫 한다면 정리가 안된거다.
- **정리** : 코드의 위치가 예상되지 않는다?
- **표준** : 컨벤션 지키자
- 완벽한 요구사항은 없다. **스스로 판단하자 고민하자**
- 현장에 필요한 문제가 무엇인지 생각해보자
  - 기능목록, 요구사항은 디테일하지않다. 한번 더 강조하지만 **스스로 무엇이 더 필요할지 생각해보자**
- 회고는 솔직하게 !

### 나만의 컨벤션

- 코드 의도 드러내기

  - hollywood -> `get` X, `find~~` O
  - 길어도 좋아
  - 지역변수 만들어봐

- parameter

  - 없어도 좋을때가 있다 (api는 단순할수록 좋다)
  - 순서가 볌위의 경계다
  - 불규칙적으로 들어온다면 rest parameter, arguments 활용
  - 3개 이상이 들어온다면 객체로 받자
  - wrapping 함수를 사용해보자

- 조건문

  - operator로 문을 제어하지 말자 [airbnb [17.2]](https://github.com/airbnb/javascript#control-statements--value-selection)
    - 특히 삼항연산자로 문을 제어하지말자, 값을 할당할때만 쓰자
  - 조건문도 함수로 래핑해 의도를 드러내라 (내부적으로 어떤 비교를 하는지 볼 필요가 없도록)
  - 드모르간 법칙

- 함수
  - 동사로 시작한다

## 🎯 요구 사항

스스로 생각하되 요구사항은 지켜야한다.

[기능 요구 사항](https://github.com/DOKIDOKI-b/javascript-lotto-6#-%EA%B8%B0%EB%8A%A5-%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD)

요구사항의 **입출력 양식**을 지키지 않으면 0점

[프로그래밍 요구사항](https://github.com/DOKIDOKI-b/javascript-lotto-6#-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD)

## 🚀 기능 목록

### 입력

- [x] 로또 구입 금액 (1000원 단위)
- [x] 당첨번호
  - [x] (,) 기준으로 구분
- [x] 보너스 번호
- [x] 잘못된 입력시에 입력 재요청 기능

### 출력

- [x] 로또 구매 수량
- [x] 로또 구매 번호 (오름차순)
- [x] 당첨 내역
- [x] 수익률 (소수점 둘재자리에서 반올림)

### 비지니스

- [x] 1~45 범위의 중복되지 않는 6개 숫자 뽑기
- [x] 당첨번호와 로또번호에 같은 숫자가 몇개인지 반환
- [x] 보너스 번호가 존재하는지 확인
- [x] 당첨 등수 구하기
  - [x] 5개 일치시에 보너스볼(2등, 3등)도 일치하는지 확인
- [x] 오름차순 정렬
- [x] 구매금액과 당첨금액 비교해 수익률 구하기
- [x] 구매금액만큼 로또 List 발행 기능
  - [x] 1개의 로또 발행 기능

### 🚧 예외처리

예외처리는 [ERROR]로 시작해야한다

```
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
```

- 입력
  - 구매금액
    - [x] 1000원단위가 아닐때
    - [x] 숫자 이외의 값
    - [x] 공백 (앞 뒤 공백은 허용하되 금액 내부에서는 불가)
  - 당첨번호
    - [x] 공백 (앞 뒤 공백은 허용하되 번호 내부에서는 불가)
    - [x] 숫자 이외의 값
    - [x] 1~45 범위 밖의 숫자 입력
    - [x] 중복된 숫자
    - [x] ,가 5개가 아닐때
  - 보너스번호
    - [x] 당첨번호와 중복
    - [x] 1~45 범위 밖의 숫자 입력
    - [x] 숫자가 아닐때 (앞 뒤 공백은 허용하되 번호 내부에서는 불가)
- 비지니스
  - [] 구매 금액만큼 로또가 발행이 안됐을때
  - [x] 발행된 로또번호에 범위외의 숫자가 있을때
  - [x] 발행된 로또번호의 길이가 6자리가 아닐때
  - [△] 구매금액이 1000원단위가 아닐때 (입력값에서 검증할지 로또 생성할때 검사할지 고민)
  - [] 전역으로 설정한 로또 판매금액이 아닐때 (전역 store로 만들어둘까 고민)

### 🤔 변경이 생긴다면 ?

바꿔보고 여러곳이 바뀐다면 한번의 변경으로 다른곳을 수정하지 않아도 되게 만들자 (전역적으로 )

- 구매 가능 개수 제한 해제
- 당첨금 변경
- 수익률 표시 변화
- 4개일치했을때도 보너스볼 일치를 확인한다면 ?
- 로또 숫자의 범위가 바뀔일이 있을까..?
- 로또 한장 가격 변화

## 코드포맷터를 활용하자

```
1주차 미션에서 환경설정도 미션의 일부라고 하셨다
좋은 환경을 만들어가는것도 중요하다
eslint와 prettier를 적극 활용하자
```

```js
 rules: {
  'no-process-exit': 'error', // process.exit()으로 종료하지않는다
  'max-depth': ['error', 2],  // indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
  'max-lines-per-function': ['error', 15], //함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
    }
```

## 🧱 환경 설정

- <details>
    <summary><b>clone & fork</b></summary>
    `git clone ${repo url}`
    `git checkout -b DOKIDOKI-b`
  </details>
- <details>
    <summary><b>eslint with airbnb</b></summary>
    `npm install --save-dev eslint`
    `npx install-peerdeps --dev eslint-config-airbnb`
    필요한 디펜던시 확인
    `npm info "eslint-config-airbnb@latest" peerDependencies`
  </details>
- <details>
    <summary><b>prettier</b></summary>
    `npm install --save-dev prettier`
  </details>
