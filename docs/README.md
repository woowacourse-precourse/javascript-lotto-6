# 기능 명세서

> UI와 핵심 로직 구분, 메시지/값 하드코딩하던 것 의식해서 구현하기

> 작은 단위의 테스트부터 작성

## 구현 할 기능 목록

### App 클래스

UI 로직 담당

- [x] `play()`: 애플리케이션 실행

- [x] `getAmountInput()`: 구입 금액을 입력받는 메서드

- [x] `getWinningInput()`: 당첨 번호, 보너스 번호를 입력받는 메서드

- [x] `getResultInfo()`: 당첨 통계를 출력하기 위해 필요한 게임의 결과를 반환하는 메서드

- [x] `printResult()`: 당첨 통계를 출력하는 메서드

### Game 클래스

도메인 로직 담당

- [x] `generateTickets()`: 로또 티켓들을 생성하고 출력하는 메서드

- [x] `getTickets()`: 입력받은 금액만큼 로또 인스턴스 생성하는 메서드

  > 정렬해서 값 넘기기

- [x] `printTickets()`: 발행된 로또 티켓들의 정보를 출력하는 메서드

- [x] `draw()`: 로또를 추첨하는 메서드

- [x] `recordDrawResult()`: 추첨 중 당첨 정보를 기록하는 메서드

- [x] `getDrawRank()`: 추첨 결과를 토대로 순위를 반환하는 메서드

- [x] `getProfitRate()`: 최종 수익률을 반환하는 메서드
  > 소수점 둘째 자리에서 반올림

### Lotto 클래스

중복없는 6자리 숫자 배열을 받아 로또 인스턴스를 생성

- [x] `#validate`: 추가적인 예외 처리 구현

  - [x] 중복 숫자 유효성 검사

- [x] `#getWinningInfo(winningNumbers, bonusNumber)`: 보너스 따로 구분해 당첨내역 반환 (등수, 일치 정보)

- [x] `info()`: `private` 필드 값을 넘기기 위한 `getter` 함수

### validateInput.js

사용자 입력에 대한 유효성 검사 로직을 분리한 파일

- [x] `validateAmountInput(input)`: 구입 금액 검사

- [x] `validateWinningInput(input)`: 당첨 번호 검사

- [x] `validateBonusInput(input)`: 보너스 번호 검사

## 예외 처리

### 입력

- [x] 로또 구입 금액

  - [x] 입력이 없는 경우
  - [x] 1,000원으로 나누어 떨어지지 않는 경우
  - [x] 숫자가 아닌 경우

- [x] 당첨 번호
  - [x] 입력이 없는 경우
  - [x] 쉼표를 기준으로 구분해 6개의 숫자가 아닌 경우
  - [x] 중복된 숫자가 있는 경우
  - [x] 숫자 범위를 벗어난 경우
  - [x] 보너스 번호가 당첨 번호와 중복될 경우

## 요구 사항

### 1. 기능 요구 사항

> 구현 후 체크할 것!

- [x] 규칙에 맞게 로또 게임 구현

  - [x] 로또 번호의 숫자 범위는 1~45까지이다.
  - [x] 1개의 로또 발행 시 중복되지 않는 6개의 숫자를 뽑는다.
  - [x] 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
  - [x] 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    - 1등: 6개 번호 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 / 30,000,000원
    - 3등: 5개 번호 / 1,500,000원
    - 4등: 4개 번호 / 50,000원
    - 5등: 3개 번호 / 5,000원

- [x] 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.

- [x] 로또 1장은 1,000원이다.
- [x] 당첨 번호와 보너스 번호를 입력받는다.
- [x] 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- [x] 사용자가 잘못된 값을 입력할 경우 `throw`문을 사용해 예외를 발생시킨다. 그런 다음, "[ERROR]"로 시작하는 에러 메시지를 출력하고 해당 부분부터 입력을 다시 받는다.  
       `예시) [ERROR] 숫자가 잘못된 형식입니다.`

### 2. 프로그래밍 요구 사항

- [x] indent depth를 2까지만 허용한다.

  > ex) while문 안에 if문이 있으면 2이다.  
  > depth를 줄이는 방법: 함수를 분리

- [x] Jest를 이용해 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.

- [x] 함수(메서드)의 길이가 15라인을 넘어가지 않도록 구현하라.
- [x] else를 지양한다.

  > if 조건절에서 값을 return하는 방식으로 구현

  > 때로는 if/else, switch문 사용이 더 깔끔해 보일 수 있다. 적절한 경우를 스스로 고민해 본다.

- [x] 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(Console 입출력 로직) 로직에 대한 단위 테스트는 제외한다.

  > 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.

  > 단위 테스트 작성이 익숙하지 않다면 `__test__/LottoTest.js`를 참고하여 학습한 후 테스트를 구현.

## 제공된 Lotto 클래스

- 제공된 `Lotto` 클래스를 활용해 구현해야 한다.
- `numbers`의 `#` prefix를 변경할 수 없다.
- `Lotto`에 필드를 추가할 수 없다.

### 3. 과제 진행 요구 사항

- [x] 기능 구현 전 `docs/README.md`에 구현할 기능 목록을 정리해 추가한다.
- [x] Git의 커밋 단위는 `docs/README.md`에 정리한 기능 목록 단위로 추가한다.
