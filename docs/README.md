# 로또 기능 구현

## 기능 구현 목록

### 구입 금액 입력

- [x] Console API를 이용해 사용자에게 숫자를 입력 요구한다.
- [x] 사용자가 잘못된 값을 입력했을 시에, ["ERROR"] 문구 출력과 입력을 다시 요구한다.
- [x] **예외 처리**
  - [x] 숫자 인지 아닌지 체크
  - [x] 1,000 단위 인지 아닌지 체크
  - [x] 적절한 범위 인지 아닌지 체크(1,000원 ~ 20,000 사이)

### 로또 발행

- [x] 사용자가 입력한 구입 금액에 따른 개수를 계산하고 로또 발행한다.
  - `count = 입력 금액 / 1,000`
- [x] Console API를 이용해 개수와 로또 발행 안내 문구를 출력한다.
- [x] Random API를 이용해 로또를 발행한다.
- [x] 발행한 로또 번호는 오름차순으로 정렬한 뒤에 Console API를 이용해 로또 번호를 출력한다.

### 로또 번호 입력

- [x] Console API를 이용해 사용자에게 로또 번호를 입력 요구한다.
- [x] 로또 번호는 쉼표(',')를 통해 구분한다.
- [x] **예외 처리**
  - [x] 숫자 인지 아닌지 체크
  - [x] 로또 번호에 중복된 번호가 있는지 체크
  - [x] 1 ~ 45 사이의 숫자가 아닌 숫자를 적었는지 체크

### 보너스 번호 입력

- [x] Console API를 이용해 사용자에게 보너스 번호를 입력 요구한다.
- [x] 사용자가 잘못된 값을 입력했을 시에, ["ERROR"] 문구 출력과 입력을 다시 요구한다.
- [x] **예외 처리**
  - [x] 숫자 인지 아닌지 체크
  - [x] 1 ~ 45 사이의 숫자가 아닌 숫자를 적었는지 체크
  - [x] 로또 번호와 중복된 번호가 있는지 체크

### 결과 계산

- [x] 발행한 로또 번호와 사용자가 입력한 로또 번호를 비교해 맞힌 개수를 비교한다.
- [x] 만약 맞힌 개수가 5개라면 보너스 번호를 비교한다.
- [x] 맞힌 개수가 3개 이상이라면 임의의 배열(이하 결과 배열)에 담아 반환한다.
- [x] 결과 배열에서 각각의 번호가 몇 개가 들어있는지 체크한 이후 객체(이하 결과 객체)로 반환한다.
- [x] 결과 객체와 사용자가 입력한 금액을 비교해 수익률을 계산한다.
  - [x] 수익률은 소수점 둘째 자리에서 반올림한다.
  - `const rate = ((상금 / 입력 금액) * 100).toFixed(1).toLocaleString();`

### 결과 출력

- [x] 결과 객체를 바탕으로 해당 맞힌 개수의 번호가 있으면 해당 번호를 출력하고 아니면 0개를 출력한다.
- [x] 마지막에 수익률을 출력한다.

<br>

## 기능 구현 외 고려한 사항(피드백, 요구 사항 등)

- [x] MVC 패턴을 적용해본다.
- [x] 기능 목록을 꾸준히 업데이트한다.
  - [x] 예외 처리에 대해서 기술한다.
- [x] Console API에 사용되는 문구들은 상수를 통해 관리한다.
- [x] 함수는 한 가지 기능만 하도록 구현한다.
- [x] 함수의 길이는 총 15자가 넘지 않도록 구현한다.
- [x] 인덴트는 3이 넘지 않도록 구현한다.
- [x] else 를 사용하지 않도록 노력한다. 만약, 사용한다면 합리적인 판단 하에 사용한다.
- [x] 로직에 대한 코드와 UI에 대한 코드를 구분한다.
- [x] 변수명과 클래스명, 함수명은 최대한 자세히 작성한다.
  - [x] 다만, 메서드 호출하는 것에 대비해서 네이밍을 작성한다.
    - ex) calculdate.count (o) / calculdate.calculdateCount();

<br><br><br>

# 프로젝트 구조

## Domain

### Amount

- 사용자가 입력한 금액을 정수로 변환해준다.
- 입력값에 대한 유효성 검증을 한다.

### Lotto

- 사용자가 입력한 로또 번호를 유효성 검증을 하고 값을 반환해준다.

### Bonus

- 사용자가 입력한 보너스 번호를 정수로 변환해준다.
- 입력값에 대한 유효성 검증을 한다.

### Purchase

- 사용자가 입력한 금액에 맞춰 로또 번호를 발행한다.
- 발행한 번호는 배열에 담아 반환해준다.

### Calculate

- 금액, 발행한 로또 번호, 입력한 로또 번호, 보너스 번호를 받아서 결과값과 수익률을 계산해준다.

### Result

- 결과 값과 수익률을 전달 받아 데이터를 가공한 이후 UserOutput에 전달해주는 역할을 한다.

<br>

## View

### UserInput

- 다음과 같은 기능을 하는 메서드를 가지고 있다.
  - 금액을 묻는 메서드(`Amount`, `Purchase`와 연결)
  - 로또 번호를 묻는 메서드(`Lotto`와 연결)
  - 보너스 번호를 묻는 메서드(`Bonus`와 연결)

### UserOutput

- 각종 `Console.print()` 를 출력하기 위한 기능을 한다.

<br>

## Controller

### LottoController

- View와 Model과 연결되어 게임을 진행한다.

<br><br><br>

## 테스트 코드 실행 결과

![Alt text](image.png)
