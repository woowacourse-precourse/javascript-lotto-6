# 🎯 3주차 미션

- 미션 제출 기간 : **2023년 11월 7일 15시 00분(목) ~ 2023년 11월 8일 23시 59분(수)**
- 미션 깃허브 : https://github.com/woowacourse-precourse/javascript-lotto-6
- Node.js 버전 : 18.17.1

### 🎯 목표

1. **클래스(객체)를 분리하는 연습**
2. **도메인 로직에 대한 단위 테스트를 작성하는 연습**

## **🏐** 구현 기능

### **입출력 기능**

- [입력] : 로또 금액 입력.

  - 예외처리
    1. 1,000원 으로 나누어 떨어지지 않는 경우 예외처리

- [입력] : 당첨 번호 입력. 번호는 쉼표(,)를 기준으로 구분

  - 예외처리
    1. 입력 값이 구분자와 숫자로 이루어졌는지 체크
    2. 입력값의 문자열 형태가 정상적인지 체크
    3. 숫자가 중복되지 않는지 체크

- [입력] : 보너스 번호를 입력 받는다.

  - 예외처리
    1. 보너스 번호를 입력 받는다.
    2. 입력값이 숫자인지 체크한다
    3. 입력값이 중복된 숫자인지 체크한다.

- [출력] 발행한 로또 수량 및 번호 출력

  - 로또 번호는 오름차순으로 정렬하여 보여준다.

  - 예시

    ```jsx
    8개를 구매했습니다.
    [8, 21, 23, 41, 42, 43]
    [3, 5, 11, 16, 32, 38]
    [7, 11, 16, 35, 36, 44]
    [1, 8, 11, 31, 41, 42]
    [13, 14, 16, 38, 42, 45]
    [7, 11, 30, 40, 42, 43]
    [2, 13, 22, 32, 38, 45]
    [1, 3, 5, 14, 22, 45]
    ```

- [출력] 당첨 내역 출력

  - 일치하는 번호와 그 갯수 출력

  - 일치 갯수 [오름차순/내림차순] 출력

  - 예시

    ```jsx
    당첨 통계
    ---
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    ```

- [출력] 수익률 출력

  - 소수점 둘째자리에서 반올림 한다.

  - 예시

    ```jsx
    총 수익률은 62.5%입니다.
    ```

### 핵심 **기능**

- [로또 구매] 구매 갯수에 따라서 로또 번호를 구하는 로직
  - 서로 다른 6개의 숫자를 입력하는 로직 생성
- [로또 추첨]구매한 로또 번호들 중에서 당첨된 번호를 구하는 로직
  - N개의 번호중에서 M개의 번호가 일치하는지 구한다
- [수익률] 수익률을 구한다.

## 🏈 **상수**

- 로또 가격 = `1000`

- 보너스 번호 갯수 = `1`

- 구분자 = `,`

- 로또 숫자의 범위: `1` ~ `45`

- 당첨 금액 : `{일치 갯수, 당첨 금액, 등수}`

  - `Object.freeze()` 로 상수 처리

- 로또 당첨 숫자 갯수 : `6`

## 🏈 도메인 분리

- `Lotto` 클래스 : 로또 티켓

  - 속성 : 로또 번호

  - 로또 번호
    - 번호가 온전한지 검증

- `LottoChecker` : 로또 추첨기

  - 속성 : 티켓 구매 갯수, 총 당첨 금액

  - 추첨 번호 입력

    - 당첨 번호 생성
    - 보너스 번호 생성

  - 로또 구매

    - 현금이 충분한지 파악 후 결제.
    - 구매한 로또 티켓을 준다.

  - 결과 발표
    - 주어진 티켓에 대한 로또 당첨 결과를 알려준다.

- `CalculateYield` 함수 : 수익률 계산기
- `IsUniqueInArray` 함수 : 서로 다른 번호인지 확인
- `IsNumbersInArray` 함수 : 배열 안에 숫자로만 이루어졌는지 확인
- `IsNumberInRangeOfArray` 힘수 : 배열이 해당 범위의 숫자로 이루어졌는지 확인
- `IsNumber` 함수 : 숫자로만 이루어졌는지 확인
- `IsNumberInRange` 함수 : 숫자 범위가 예상 범위인지 체크

## 🎱 주의 사항

- **indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.**
- 프로그래밍 요구 사항에서 달리 명시하지 않는 한 파일, 패키지 이름을 수정하거나 이동하지 않는다.
- Jest를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
  - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- else를 지양한다.
  - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
  - 때로는 if/else, switch문을 사용하는 것이 더 깔끔해 보일 수 있다. 어느 경우에 쓰는 것이 적절할지 스스로 고민해 본다.
- 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(Console.readLineAsync, Console.print) 로직에 대한 단위 테스트는 제외한다.
  - **핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.**
  - 단위 테스트 작성이 익숙하지 않다면 `__tests__/LottoTest.js`를 참고하여 학습한 후 테스트를 구현한다.

## 🎱 Lotto 클래스 주의사항

- 제공된 `Lotto` 클래스를 활용해 구현해야 한다.

- `numbers`의 `#` prefix를 변경할 수 없다.

- `Lotto`에 필드를 추가할 수 없다.

  ```jsx
  class Lotto {
    #numbers;

    constructor(numbers) {
      this.#validate(numbers);
      this.#numbers = numbers;
    }

    #validate(numbers) {
      if (numbers.length !== 6) {
        throw new Error("[ERROR] 로또 번호는 6개여야 합니다.");
      }
    }

    // TODO: 추가 기능 구현
  }
  ```

## 🎱 Commit message Convention

- [참고 링크](https://gist.github.com/stephenparish/9941e89d80e2bc58a153)
