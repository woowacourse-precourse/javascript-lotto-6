## 🚀 기능 구현 목록

### 1. 기능 세부 사항 구분
#### 🥕 로또 클래스 구현
```
1. 필드 선언
  a. #numbers : private(메서드가 클래스 외부에서 접근되거나 수정될 수 없음)로 선언.
2. 생성자
  a. 객체 생성 시 numbers(array)를 입력받는다.
  b. 로또 번호로 유효한지 validate 함수로 확인한다.
  c. 유효할 시 객체 자신의 #numbers 필드에 할당한다.
3. 메서드
  a. 유효성 검사
    i. 매개변수로 받은 인자가 6개의 요소로 구성되고 중복되지 않는지 확인한다.
    ii. 유효하지 않을 경우 에러를 던진다.
  b. 로또 번호 반환
    i. 로또 번호를 반환한다.
  c. 로또 번호가 당첨 번호에 포함되는 갯수 반환
```

#### 🥕 유효성 검사 및 계산 구현
```
1. 수익률 계산
  a. 전체 로또 번호 객체와 로또 구매 갯수를 매개 인자로 받는다.
  b. 전체 로또 번호를 통해 총 수익금을 계산한다.
  c. 로또 구매 갯수와 총 수익금을 통해 수익률을 계산한다.
  d. 총 수익률을 반환한다.
2. 로또 객체 생성
  a. 랜덤한 번호를 6개 생성한다.
  b. 오름차순으로 번호를 정렬한다.
  c.  매개 인자로 번호를 주어 새로운 로또 객체를 생성하고 반환.
3. 보너스 번호 체크
  a. 로또 번호에 보너스 번호가 포함되어 있는지 체크하여 반환
4. 보너스 번호 유효성 검사
  a. 숫자가 아닌 입력 값에 대해 에러를 던진다.
  b. 정수가 아닌 입력 값에 대해 에러를 던진다.
  c. 당첨 번호에 포함되는 값일 경우 에러를 던진다.
  d. 1 ~ 45 사잇값이 아닐 경우 에러를 던진다.
5. 로또 구매 금액 유효성 검사
  a. 숫자가 아닌 구매 금액에 대해 에러를 던진다.
  b. 1,000원 단위가 아닌 금액의 경우 에러를 던진다.
  c. 구매 금액이 정수가 아닌 경우 에러를 던진다.
  d. 구매 금액이 음수인 경우 에러를 던진다.
6. 당첨 번호 유효성 검사
  a. 숫자가 아닌 입력 값에 대해 에러를 던진다.
  b. 요소가 6개가 아닐 경우 에러를 던진다.
  c. 중복된 요소가 존재할 경우 에러를 던진다.
```

#### 🥕 입력부 구현
```
1. 로또 구매 금액 입력 메서드
  a. 입력 메세지를 출력한다.
  b. 사용자에게 입력을 받는다.
  c. 유효성 검사 메서드(추후 구현) 호출 후 유효할 시 금액 반환
2. 로또 당첨 번호 입력 메서드
  a. 입력 메세지를 출력한다.
  b. 당첨 번호를 입력받는다.
  c. 유효성 검사 메서드로 당첨 번호가 유효할 시 당첨 번호 반환
3. 보너스 번호 입력 메서드
  a. 입력 메세지를 출력한다.
  b. 보너스 번호를 입력받는다.
  c. 유효성 검사 메서드로 보너스 번호가 유효할 시 보너스 번호 반환
4. 전체  번호 입력 호출 메서드
  a. (2, 3) 메서드를 호출한다.
  b. 당첨 번호와 보너스 번호를 객체 형태로 반환
```

#### 🥕 출력부 구현
```
1. 당첨 결과 헤드 출력
  a. '당첨 통계' 출력
  b. '---' 출력
2. 구매 수량 출력
  a. 구매 수량을 매개 인자로 받는다.
  b. 구매 수량을 포맷팅하여 출력한다.
3. 로또 번호 출력
  a. 로또 번호를 매개 인자로 받는다.
  b. 번호를 배열 형태로 포맷팅하여 출력한다.
4. 당첨 결과 출력
  a. 당첨 번호와 일치하는 로또 번호 갯수, 당첨 가격, 당첨된 로또 갯수를 매개 인자로 입력받는다.
  b. 일치한 로또 갯수, 당첨 가격, 당첨된 로또의 갯수를 포매팅하여 출력한다.
5. 수익률 출력
  a. 전체 로또 번호와 구입한 로또 갯수를 입력받는다.
  b. 수익률 계산 메서드를 호출하고 수익률을 반환받는다.
  c. 반환 받은 수익률을 포맷팅하여 출력한다.
```
#### 

#### 🥕 실행부 구현
```
1. 필드 선언
  a. lottos: 로또 객체들을 담는다.
  b. results: 당첨 기준 로또 갯수(key), 당첨 로또 갯수(value)를 저장하는 Object
  c. purchaseAmount: 구매 로또의 갯수를 저장
2. 생성자
  a. lottos를 빈 배열로 초기화한다.
  b. results에 key를 당첨 기준 로또 갯수를 3~6, value를 0으로 초기화한다.
  c. 구매 로또 갯수를 0으로 초기화한다.
3. 메서드
  a. 초기 입력 메서드
    i. 구매 값 입력 메서드 호출 후 구매 로또 갯수 필드에 반환 값 할당
    ii. 로또 구매 갯수만큼 로또 생성 및 로또 번호 출력 각 메서드 호출
  b. 당첨 로또 갯수 할당 메서드
    i. 전체 로또 객체를 순회하며 당첨 여부를 체크한다.
    ii. 보너스 번호 포함 여부를 체크한다.
    iii. results 필드를 업데이트 한다.
```

#### 🥕 도메인 구조
```
src/
|-- app.js // 애플리케이션의 실행 로직
|-- lotto.js // 로또 클래스
|-- io/ // 입력과 출력을 처리하는 폴더
    |-- input.js // 입력 처리 함수
    |-- output.js // 출력 처리 함수
|-- utils/ // 계산과 상수, 유효성 검사 등을 모아둔 디렉토리
    |-- calculate.js // 계산 관련 함수
    |-- validate.js // 유효성 검사 관련 함수
    |-- constants.js // 상수선언

```
### 2. 각 세부 기능별 테스트 코드를 작성한다.
**이 때 각 세부 기능에 성공, 엣지 케이스를 하나씩 테스트한다.**

#### 🥕 로또 클래스 테스트
```
1. 로또 번호의 개수가 6개가 넘어갈 경우 예외가 발생해야 한다.
2. 로또 번호에 중복된 숫자가 있을 경우 예외가 발생해야 한다.
3. 로또 번호에 정수가 아닌 숫자가 있을 경우 예외가 발생해야 한다.
3. 로또 번호에 범위(1 ~ 45) 내에 포함되지 않을 경우 예외가 발생해야 한다.
4. 로또 번호에 숫자가 아닐 경우 예외가 발생해야 한다.
```

#### 🥕 유효성 검사 테스트
```
1. 로또 번호 내 보너스 번호 포함 시 테스트 ($checkBonus)
  a. 보너스 번호가 로또 번호에 포함되어 있다면 참을 반환해야 한다.
  b. 보너스 번호가 로또 번호에 포함되어 있지 않다면 거짓을 반환해야 한다.
2. 보너스 번호 유효성 검사 테스트 ($checkBonusNumbers)
  a. 보너스 번호가 NaN일 경우 예외가 발생해야 한다.
  b. 구매 금액이 정수가 아닐 경우 예외가 발생해야 한다.
  c. 구매 금액이 음수일 경우 예외가 발생해야 한다.
  d. 보너스 번호가 당첨 번호에 포함되어 있을 경우 예외가 발생해야 한다.
  e. 보너스 번호가 유효한 범위를 벗어났을 경우 예외가 발생해야 한다.
3. 구매 금액 유효성 검사 테스트 ($checkPurchaseAmount)
  a. 구매 금액이 NaN일 떄 예외가 발생해야 한다.
  b. 구매 금액이 정수가 아닐 경우 예외가 발생해야 한다.
  c. 구매 금액이 0일 때 예외가 발생해야 한다.
  d. 구매 금액이 로또 가격의 배수가 아닐 경우 예외가 발생해야 한다.
4. 당첨 번호 유효성 검사 테스트 ($checkWinningNumbers)
  a. 당첨 번호 중 NaN이 있을 경우 예외가 발생해야 한다.
  b. 당첨 번호의 갯수가 맞지 않으면 예외가 발생해야 한다.
  c. 당첨 번호에 중복된 숫자가 있으면 예외가 발생해야 한다.
  d. 당첨 번호에 정수가 아닌 숫자가 있으면 예외가 발생해야 한다.
```

#### 🥕 연산 테스트
```
1. 당첨 번호 생성 테스트 ($generateLotto)
  a. 당첨 번호를 생성할 때 1 ~ 45 범위의 유니크한 6개의 숫자를 생성해야 한다.
2. 당첨 번호 갯수 체크 연산 테스트 ($calculateMatchCount)
  a. 로또와 당첨번호가 주어졌을 때 매칭되는 번호의 개수를 정확히 계산해야 한다.
3. 수익률 계산 테스트 ($calculateEarnings)
  a. 당첨 결과와 구매 금액이 주어졌을 때 수익률을 정확히 계산해야 한다.
```

#### 🥕 로또 앱 테스트
```
1. 로또 구매 금액을 설정하고 로또를 정확히 생성하는 테스트 ($purchaseLottos)
2. 당첨 번호를 비교하여 맞춘 개수에 따라 정확히 결과를 업데이트하는지 테스트 ($evaluateLottos)
3. 보너스 번호가 포함되었을 때 결과를 정확히 업데이트하는지 테스트 ($updateResults)
```
**예외(에러) 케이스가 발생할 수 있는 함수의 경우 예외 케이스를 테스트한다.**


---
## TIL (공부해야할 부분 && 알게된 부분)

#### 1. 클래스 분리 / 도메인 로직 알아보기

도메인 로직에 대해 메일을 통해 처음 들었다. 
이번 주 과제의 목표로 추가된 도메인 로직에 대한 단위 테스트 작성을 하기 위해
도메인 로직과 클래스 분리를 위해 과정을 잘 기록하며 공부해야할 것 같다.

#### 2. Lotto의 필드는 `#` prefix를 갖고 이는 private를 의미한다.

#### 3. 상수를 객체 형태로 묶어서 선언.

#### 4. const에서도 상수로 사용되는 값만 SNAKE_CASE 사용

#### 5. 도메인 단위 테스트를 위해 도메인 구조화
- 도메인을 나누기 위해 MVC 패턴을 참고해서 나름대로 도메인 구조로 작성을 했다.
- 계산부에는 이미 Validate 한 값만 들어오지만 도메인 단위로 테스트를 했을 때 무결성을 갖기 위해선 입력값을 임의로 말도 안되는 값으로 조정해서 해야할지 고민이다.
