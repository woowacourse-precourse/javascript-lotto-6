# 미션 - 로또

## ✏️ 구현 기능 목록

- [x] 로또 구입 금액 입력 받기

  - [x] `잘못된 값` 입력 시 예외 발생 후 **재입력**

- [x] 구입 금액에 해당하는 로또 수량 출력하기

- [x] 수량만큼 로또 발행하기

  - [x] [1, 45] 사이 범위에서 숫자 6개 추출 (Random 유틸 사용)

  - [x] 각 로또 번호가 담긴 배열은 오름차순으로 정렬

  - [x] 발행한 로또 목록 출력

- [x] 당첨 번호 입력 받기

  - [x] `잘못된 값` 입력 시 예외 발생 후 **재입력**

- [x] 보너스 번호 입력 받기

  - [x] `잘못된 값` 입력 시 예외 발생 후 **재입력**

- [x] 당첨 통계 출력하기

  - [x] 낮은 등수 (5등 -> 1등) 순서대로

  - [x] `${일치하는 숫자 개수}개 일치 (${당첨 금액}원) - ${해당하는 로또 수량}개`

- [x] 수익률 출력하기

  - [x] `${총 당첨 금액} / ${구입 금액}`을 소수점 둘째 자리에서 반올림

## 💥 예외 처리

### 로또 가격 입력

| 예외 상황                              | 조건                                                              | 에러 문구                              | 구현 여부 |
| -------------------------------------- | ----------------------------------------------------------------- | -------------------------------------- | --------- |
| Number로 변환이 불가한 값              | `Number.isNaN(Number(string))`                                    | `[Error] 숫자만 입력해주세요!`         | ⭕        |
| 1000으로 나눈 몫이 양의 정수가 아닌 값 | `Number(string) <= 0 or !Number.isInteger(Number(string) / 1000)` | `[Error] 1,000원 단위로 입력해주세요!` | ⭕        |

### 당첨 번호 입력

| 예외 상황                                 | 조건                                                           | 에러 문구                                              | 구현 여부 |
| ----------------------------------------- | -------------------------------------------------------------- | ------------------------------------------------------ | --------- |
| 6개가 아님                                | `string.split(',').length !== 6`                               | `[Error] 로또 번호는 6개여야 합니다!`                  | ⭕        |
| 범위(1-45) 내 숫자가 아닌 문자열이 포함됨 | `string.split(',').some(정수 아님 or 1 미만 or 45 초과)`       | `[Error] 로또 번호는 1부터 45 사이의 정수여야 합니다.` | ⭕        |
| 중복된 숫자 존재                          | `string.split(',').length !== new Set(string.split(',')).size` | `[Error] 중복된 번호가 포함되어 있습니다!`             | ⭕        |

### 보너스 번호 입력

`Number(string) = bonus`

| 예외 상황                 | 조건                                                  | 에러 문구                                              | 구현 여부 |
| ------------------------- | ----------------------------------------------------- | ------------------------------------------------------ | --------- |
| Number로 변환이 불가한 값 | `Number.isNaN(bonus)`                                 | `[Error] 숫자만 입력해주세요!`                         | ⭕        |
| 범위(1-45) 밖 숫자        | `!Number.isInteger(bonus) or bonus < 1 or bonus > 45` | `[Error] 로또 번호는 1부터 45 사이의 정수여야 합니다.` | ⭕        |
| 당첨 번호와 중복되는 숫자 | `winningNumbers.includes(bonus)`                      | `[Error] 당첨 번호와 겹치지 않는 번호를 입력해주세요!` | ⭕        |

## 🤔 개선할 부분

- [ ] ✨ 함수 1개의 길이가 15 라인을 넘어가지 않는지
- [x] ✨ else를 최대한 지양했는지
- [x] ✨ 도메인 로직에 단위 테스트를 구현했는지
- [ ] 모든 코드의 indent depth가 3 미만인지
- [x] Jest를 이용하여 기능 목록이 정상 동작함을 **테스트 코드**로 확인했는지
- [ ] 코드 컨벤션을 준수했는지

- [ ] 값을 하드 코딩한 부분이 없는지 (에러 메시지, 로또 번호 범위 등)
- [x] 중복되는 부분은 최대한 묶었는지
- [ ] 변수명 애매한 건 명확하게 바꿨는지
- [x] 읽는 순서에 맞게 함수 순서 정하기
- [x] 에러 처리할 때 if-else 말고 multiple if로 처리하기
- [ ] 로컬에서만 eslint 설정하기
