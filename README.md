# 3️⃣ 프리코스 3주차 미션 - 로또

로또 당첨 결과 및 수익률을 알려주는 게임

<br>

# 🎮 게임 과정

## 1. 구입 금액 입력

아래 문장이 출력되면, 구입 금액을 1000원 단위로 입력한다.

```jsx
구입금액을 입력해 주세요.
```

## 2. 로또 발행

아래처럼 구매 수량을 출력하고, 구매 수량만큼 로또를 순서대로 발행한다.

```jsx
8개를 구매했습니다.
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
[7, 11, 16, 35, 36, 44]
[1, 8, 11, 31, 41, 42]
[13, 14, 16, 38, 42, 45]
[7, 11, 30, 40, 42, 43]
[2, 13, 22, 32, 38, 45]
[1, 3, 5, 14, 22, 45]
```

## 3. 당첨 번호 입력

아래 문장이 출력되면, 당첨 번호를 쉼표로 구분해 입력한다.

```jsx
당첨 번호를 입력해 주세요.
```

## 4. 보너스 번호 입력

아래 문장이 출력되면, 보너스 번호를 1개 입력한다.

```jsx
보너스 번호를 입력해 주세요.
```

## 5. 당첨 통계 출력

발행한 로또 번호와 당첨 번호, 보너스 번호를 비교하여 당첨 개수와 총 수익률을 출력한다.

```jsx
당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

<br>

# 👀 실행 결과

```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
[7, 11, 16, 35, 36, 44]
[1, 8, 11, 31, 41, 42]
[13, 14, 16, 38, 42, 45]
[7, 11, 30, 40, 42, 43]
[2, 13, 22, 32, 38, 45]
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

<br>

# 📝 기능 목록

### 1. 구입 금액 입력받기

- 사용자로부터 구입 금액을 입력받는다.
- 예외처리 :
  - 입력값은 숫자여야 한다.
  - 입력값이 0이 되면 안된다.
  - 입력값은 1000으로 나누어 떨어져야 한다.
- 구매 수량을 구한다.
  - `구매 수량 = 구입 금액 / 1000`

### 2. 로또 발행하기

- 구매 수량만큼 로또를 발행한다.
  - 로또 번호는 오름차순으로 정렬한다.
- 발행한 로또를 1개씩 모두 출력한다.

### 3. 당첨 번호 입력받기

- 당첨 번호는 쉼표를 기준으로 구분해 입력받는다.
- 예외 처리 :
  - 모든 번호는 숫자여야 한다.
  - 모든 번호는 1~45 사이에 포함되어야 한다.
  - 번호는 중복되면 안된다.
  - 번호는 6개여야 한다.

### 4. 보너스 번호 입력받기

- 보너스 번호를 1개 입력받는다.
- 예외 처리 :
  - 보너스 번호는 숫자여야 한다.
  - 보너스 번호는 1~45에 사이에 포함되어야 한다.
  - 보너스 번호는 당첨 번호에 있는 값과 일치하면 안된다.

### 5. 로또 번호와 당첨 번호 비교하기

- 각각의 로또 번호와 당첨 번호를 비교한다.
- 당첨 개수를 센다.
  1. 당첨 번호가 2개 이하 포함되어 있으면 당첨 x
  2. 당첨 번호가 3개 포함되어 있으면 5등
  3. 당첨 번호가 4개 포함되어 있으면 4등
  4. 당첨 번호가 5개 포함되어 있으면당
     1. 보너스 번호까지 포함되면 2등
     2. 보너스 번호가 포함되지 않으면 3등
  5. 당첨 번호가 6개 포함되어 있으면 1등

### 6. 당첨 통계 출력하기

- 당첨 내역과 총 수익률을 출력한다.
- 당첨 내역 : 5등부터 1등까지 등수별 당첨 개수를 출력한다.
- 총 수익률 :
  - `총 수익금 = (당첨 개수 * 당첨 금액)의 합`
  - `총 수익률 = 총 수익금 / 구입 금액`
  - 총 수익률은 소수점 둘째 자리에서 반올림한다.

<br>

# 🔍 도메인 클래스 설명

### 💲 Purchase Class

구입 금액을 입력받고 구매 수량을 계산하는 클래스

`validate(input)`

- 숫자가 아니면 예외 처리한다.
- 0이면 예외 처리한다.
- 1000으로 나누어 떨어지지 않으면 예외 처리한다.

`calculatePurchaseQuantity(input)`

- 구매 수량을 구한다.

### 🎱 LottoMachine Class

구매 수량만큼 로또를 발행하는 클래스

`generateLotto()`

- 1~45 사이의 랜덤 숫자 6개를 생성해 배열에 담는다.
- `Random.pickUniqueNumbersInRange()` 를 이용한다.
- 배열을 오름차순으로 정렬한다.

`generateAllLottos(input)`

- 입력받은 수만큼 로또를 생성해 배열에 담는다.

### 👑 WinningNumber Class

당첨 번호를 입력받고 반환하는 클래스

`returnWinningNumber()`

- 입력받은 당첨 번호를 배열로 변환한다.
- Lotto 클래스를 활용해 당첨 번호의 유효성을 검사한다.
- 유효한 경우 당첨 번호를 반환한다.

### ✔ Lotto Class

로또 번호의 유효성을 검사하는 클래스

`constructor(numbers)`

- 생성자로 번호들을 담은 배열을 입력받고 필드로 저장한다.
- 입력값의 길이가 6이 아니면 예외 처리한다.
- 각 번호가 1~45 사이의 값이 아니면 예외 처리한다.
- 각 번호가 서로 중복되면 예외 처리한다.
- 각 번호가 숫자가 아니면 예외 처리한다.

### ✚ BonusNumber Class

보너스 번호를 입력받고 반환하는 클래스

`validate(input)`

- 숫자가 아닌 경우 예외 처리한다.
- 1~45 사이의 값이 아니면 예외 처리한다.
- 당첨 번호에 있는 값과 일치하면 예외 처리한다.

### 🏆 Ranking Class

로또 번호와 당첨 번호 & 보너스 번호를 비교하는 클래스

`compareRank(lotto_list, winning_number, bonus_number)`

- 각각의 로또 번호와 당첨 번호를 비교한다.
- 로또 번호에 보너스 번호가 포함되어 있는지 확인한다.
- 등수별로 당첨 개수를 센다.

### 💸 Profit Class

총 수익률을 계산하는 클래스

`calculateProfit(ranking, purchase_amount)`

- 총 수익금을 계산한다.
- 총 수익률을 계산해 소수점 둘째 자리에서 반올림해 반환한다.
